apiVersion: v1
kind: Service
metadata:
  name: demo-app-service
  namespace: demo-app
  labels:
    app: demo-app
spec:
  # ClusterIP makes service accessible only within cluster
  type: ClusterIP
  
  # Selector determines which pods receive traffic from this service
  # Must match labels in Deployment pod template
  selector:
    app: demo-app
  
  ports:
  - name: http
    protocol: TCP
    port: 8080        # Port exposed by the service
    targetPort: 80  # Port on the pod containers
  
  # Session affinity ensures requests from same client go to same pod
  # None = round-robin load balancing (default)
  sessionAffinity: None